--- origsrc/monodevelop-0.11/Extras/MonoDevelop.SourceEditor/MonoDevelop.SourceEditor.dll.config.in	2006-05-05 18:26:49.000000000 -0500
+++ src/monodevelop-0.11/Extras/MonoDevelop.SourceEditor/MonoDevelop.SourceEditor.dll.config.in	2006-08-15 19:24:44.758250000 -0500
@@ -1,5 +1,6 @@
 <configuration>
-  <dllmap dll="libglib-2.0-0.dll" target="libglib-2.0@LIB_PREFIX@.0@LIB_SUFFIX@" />
-  <dllmap dll="gtksourceview-1.0" target="libgtksourceview-1.0@LIB_PREFIX@.0@LIB_SUFFIX@" />
-  <dllmap dll="libgtk-win32-2.0-0.dll" target="libgtk-x11-2.0@LIB_PREFIX@.0@LIB_SUFFIX@" />
+  <dllmap dll="libglib-2.0-0.dll" target="@LIB_PREFIX@glib-2.0@LIB_SONAME@0@LIB_SUFFIX@" />
+  <dllmap dll="gtksourceview-1.0" target="@LIB_PREFIX@gtksourceview-1.0@LIB_SONAME@0@LIB_SUFFIX@" />
+  <dllmap dll="libgtk-win32-2.0-0.dll" target="@LIB_PREFIX@gtk-x11-2.0@LIB_SONAME@0@LIB_SUFFIX@" />
+  <dllmap dll="glibsharpglue-2" target="@LIB_PREFIX@glibsharpglue-2@LIB_SUFFIX@"/>
 </configuration>
--- origsrc/monodevelop-0.11/Extras/VersionControl/VersionControl/Makefile.am	2006-05-05 18:26:47.000000000 -0500
+++ src/monodevelop-0.11/Extras/VersionControl/VersionControl/Makefile.am	2006-08-15 19:31:07.695750000 -0500
@@ -1,6 +1,7 @@
-
+DLLNAME = VersionControl.dll
+CONFIG = $(DLLNAME).config
 ADDIN_BUILD = $(top_builddir)/build/AddIns/VersionControl
-ASSEMBLY = $(ADDIN_BUILD)/VersionControl.dll
+ASSEMBLY = $(ADDIN_BUILD)/$(DLLNAME)
 
 REFS = 
 FILES = Subversion.cs VersionControl.cs
@@ -9,10 +10,12 @@
 
 $(ASSEMBLY): $(build_sources)
 	mkdir -p $(ADDIN_BUILD)
-	$(CSC) $(CSC_FLAGS) $(build_sources) $(REFS) -out:$@ -target:library
+	$(CSC) $(CSC_FLAGS) $(build_sources) $(REFS) -out:$@ -target:library \
+	&& cp $(CONFIG) $(top_builddir)/build/AddIns/.
 
 CLEANFILES = $(ASSEMBLY) $(ASSEMBLY).mdb
-EXTRA_DIST = $(FILES)
+DISTCLEANFILES = $(CONFIG)
+EXTRA_DIST = $(FILES) $(CONFIG).in
 
 if ENABLE_VERSIONCONTROL
 all: $(ASSEMBLY)
@@ -22,7 +25,7 @@
 
 if ENABLE_VERSIONCONTROL
 addindir = $(MD_ADDIN_DIR)/VersionControl
-addin_DATA = $(ASSEMBLY)
+addin_DATA = $(ASSEMBLY) $(CONFIG)
 endif
 
 include $(top_srcdir)/Makefile.include
--- origsrc/monodevelop-0.11/Extras/VersionControl/VersionControl/VersionControl.dll.config.in	1969-12-31 18:00:00.000000000 -0600
+++ src/monodevelop-0.11/Extras/VersionControl/VersionControl/VersionControl.dll.config.in	2006-08-15 19:34:09.649000000 -0500
@@ -0,0 +1,4 @@
+<configuration>
+  <dllmap dll="libapr-0.so.0" target="@LIB_PREFIX@apr-0@LIB_SONAME@0@LIB_SUFFIX@"/>
+  <dllmap dll="libsvn_client-1.so.0" target="@LIB_PREFIX@svn_client-1@LIB_SONAME@0@LIB_SUFFIX@"/>
+</configuration>
--- origsrc/monodevelop-0.11/configure.in	2006-05-05 18:26:55.000000000 -0500
+++ src/monodevelop-0.11/configure.in	2006-08-15 19:28:30.008250000 -0500
@@ -48,22 +48,31 @@
 fi
 
 if test "x$has_mono" = "xtrue"; then
-    if test `uname -s` = "Darwin"; then
 	AC_PATH_PROG(RUNTIME, mono, no)
 	AC_PATH_PROG(CSC, mcs, no)
-	LIB_PREFIX=
-	LIB_SUFFIX=.dylib
-    else
-	AC_PATH_PROG(RUNTIME, mono, no)
-	AC_PATH_PROG(CSC, mcs, no)
-	LIB_PREFIX=.so
-	LIB_SUFFIX=
-    fi
+    case `uname -s` in
+	  Darwin)
+		LIB_PREFIX=lib
+		LIB_SONAME=.
+		LIB_SUFFIX=.dylib
+		;;
+	  CYGWIN*)
+		LIB_PREFIX=cyg
+		LIB_SONAME=-
+		LIB_SUFFIX=.dll
+		;;
+	  *)
+		LIB_PREFIX=lib
+		LIB_SONAME=.so.
+		LIB_SUFFIX=
+		;;
+	esac
 else
     if test "x$has_mint" = "xtrue"; then
 	AC_PATH_PROG(RUNTIME, mint, no)
 	AC_PATH_PROG(CSC, mcs, no)
-	LIB_PREFIX=.so
+	LIB_PREFIX=lib
+	LIB_SONAME=.so.
 	LIB_SUFFIX=
     fi
 fi
@@ -185,7 +194,7 @@
 
 AC_ARG_ENABLE(update-desktopdb,
    AC_HELP_STRING([--disable-update-desktopdb],
-                  [disable the update-desktop-database after install [default=np]]),,
+                  [disable the update-desktop-database after install [default=no]]),,
                   enable_update_desktopdb=yes)
    AM_CONDITIONAL(ENABLE_UPDATE_DESKTOPDB, test x$enable_update_desktopdb = xyes)
 
@@ -199,6 +208,7 @@
 CSC_FLAGS='-langversion:ISO-1'
 
 AC_SUBST(LIB_SUFFIX)
+AC_SUBST(LIB_SONAME)
 AC_SUBST(LIB_PREFIX)
 AC_SUBST(ASSEMBLY_VERSION)
 AC_SUBST(SQLITE_XML)
@@ -258,6 +268,7 @@
 Extras/VersionControl/DiffWidget/Makefile
 Extras/VersionControl/Makefile
 Extras/VersionControl/VersionControl/Makefile
+Extras/VersionControl/VersionControl/VersionControl.dll.config
 Extras/CSharpBinding/Makefile
 Extras/ILAsmBinding/Makefile
 Extras/NemerleBinding/Makefile
